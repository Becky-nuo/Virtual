#云硬盘(EVS)##实验介绍>云硬盘（Elastic Volume Service）是一种为ECS、BMS等计算服务提供持久性块存储的服务，通过数据冗余和缓存加速等多项技术，提供高可用性和持久性，以及稳定的低时延性能。您可以对云硬盘做格式化、创建文件系统等操作，并对数据做持久化存储;本实验介绍了云硬盘创建，挂载等基本操作;##实验目的1. 购买云硬盘2. 挂载云硬盘3. 初始化云硬盘(Windows和Linux)##实验任务>通常用户使用云硬盘，对原有的基础上进行扩容，满足业务系统或实际生产环境中的配置需求，申请的云硬盘可挂载使用，当不再使用时，可将云硬盘卸载，及时释放资源;>>本次实验主要介绍在windows环境下及Linux环境下，云硬盘如何使用及挂载;>>系统盘在创建云服务器时自动创建并挂载，无法单独购买;>>数据盘可以在购买云服务器的时候购买，由系统自动挂载给云服务器;也可以在购买了云服务器之后，单独购买云硬盘并挂载给云服务器;###购买云硬盘>步骤 1: 登录管理控制台;>步骤 2: 选择“服务列表>存储 > 云硬盘”。进入云硬盘页面;>步骤 3: 单击“购买磁盘”;>步骤 4: 根据界面提示，配置云硬盘的基本信息;```计费模式：按需计费可用区：可用区1磁盘类型：普通I/O容量：20G高级配置：暂不配置磁盘名称：volume-chen(用户可自定义）```>步骤 5: 单击“立即购买”;>步骤 6: 确认无误后，单击“提交”，开始创建云硬盘。如果还需要修改，单击“上一步”，修改参数;>步骤 7 : 返回“云硬盘”主页面;>步骤 8:在“云硬盘”主页面，查看云硬盘状态。待云硬盘状态变为“可用”时，表示创建成功;###挂载非共享云硬盘>单独购买的云硬盘为数据盘，可以在云硬盘列表中看到磁盘属性为“数据盘”，磁盘状态为“可用”;需要将该数据盘挂载给云服务器使用；（非共享云硬盘可理解为为普通电脑购买的SSD硬盘或SATA盘，挂载后对应电脑中C、D、E硬盘）;>在云硬盘列表，找到需要挂载的云硬盘，单击“挂载”；弹出“挂载 ”对话框；>选择云硬盘待挂载的云服务器，该云服务器必须与云硬盘位于同一个可用分区，通过下拉列表选择“挂载点”;一个挂载点只能挂载一块云硬盘;返回云硬盘列表页面，此时云硬盘状态为“正在挂载”，表示云硬盘处于正在挂载至云服务器的过程中;当云硬盘状态为“正在使用”时，表示挂载至云服务器成功;###初始化云硬盘>云硬盘挂载至云服务器后，需要登录云服务器初始化云硬盘，即格式化云硬盘，之后云硬盘才可以正常使用;```已申请一台windows2008 R2云服务器;已挂载数据盘至云服务器，且该数据盘未初始化;```####Windows数据盘挂载>步骤 1: 选择相应的windows云服务器;>步骤 2: 选择对应云服务器，点击远程登陆，在菜单列表中选择“计算机”，右键单击“计算机”后选择“管理”。弹出“服务器管理”窗口;>步骤 3: 在左侧导航树中，选择“存储 —> 磁盘管理”;>步骤 4: 进入“磁盘管理”页面;>步骤 5: 在右侧窗格中出现磁盘列表，在磁盘1区域，右键单击后在菜单列表中选择“联机”，进行联机;>步骤 6: 联机后，磁盘1由“脱机”状态变为“没有初始化”，右键单击在菜单列表中选择“初始化磁盘”;>步骤 7: 在“初始化磁盘”对话框中显示需要初始化的磁盘，选中“MBR（主启动记录）”，单击“确定”;>步骤 8: 右键单击磁盘上未分配的区域，选择“新建简单卷”; >步骤 9: 弹出“新建简单卷向导”对话框，根据界面提示，单击“下一步”;>步骤 10: 根据需要指定卷大小，默认为最大值，单击“下一步”;>步骤 11: 分配驱动器号，单击“下一步”;>步骤 12: 勾选“按下列设置格式化这个卷”，并根据实际情况设置参数，格式化新分区，单击“下一步”完成分区创建;>步骤 13: 单击“完成”完成向导。需要等待片刻让系统完成初始化操作，当卷状态为“状态良好”时，表示初始化磁盘成功;###初始化Linux数据盘（fdisk）```已申请一台Linux云服务器;已挂载数据盘至云服务器，且该数据盘未初始化;```####Linux数据盘挂载>步骤 1: 重复非共享云硬盘创建步骤;>步骤 2: 执行以下命令，查看新增数据盘:`fdisk -l`>>回显类似如下信息：```/dev/wdb:10.2 GB,18737418248 bytes, 28971528 scctorsJnits = sectorsof 1 * 512 = 512 bytesSector size ( log ica /phys ical): 512 bytes , 512 bytesA0 size (mininmum/optima1): 512 bytes 1 512 bytes```>步骤 3: 执行以下命令，进入fdisk分区工具，开始对新增数据盘执行分区操作'>>fdisk 新增数据盘>>以新挂载的数据盘“/dev/vdb”为例：fdisk /dev/vdb>>回显类似如下信息：```[rootlecs-linux ]# fdisk  /dev/vdbWelcome to fdisk Cutil-linux 2.23.2) .Changes will remain in memory only, until you decide to wr ite them. Be careful before using the Wr ite command.Device does not contain a recognized partition tableBuilding a new DOS disklabel with disk identif ier 8x290 C 173d .Comand (m for help):```>输入“n”，按“Enter”，开始新建分区;>>回显类似如下信息：```Command (m for help): nartition type:	p	primary (0 pr imary, 0 extended, 4 free)	e	extendedSelect (default p):```>步骤 4: 以创建一个主要分区为例，输入“p”，按“Enter”，开始创建一个主分区;>步骤 5: 以分区编号选择“1”为例，输入主分区编号“1”，按“Enter”;>>回显类似如下信息：```Select (default p): PPartit ion number (1-4, default 1): 1 First sector (2048 : -20971519, default 2048): ``` “First sector”表示初始磁柱区域，可以选择2048-20971519，默认为2048;>步骤 6: 以选择默认初始磁柱编号2048为例，按“Enter”;>>"Last sector”表示截止磁柱区域，可以选择2048-20971519，默认为20971519;>步骤 7: 以选择默认截止磁柱编号20971519为例，按“Enter”;>>表示分区完成，即为10GB的数据盘新建了1个分区;>步骤 8: 输入“p”，按“Enter”，查看新建分区的详细信息;>>表示新建分区“/dev/vdb1”的详细信息;>步骤 9: 输入“w”，按“Enter”，将分区结果写入分区表中;>>如果之前分区操作有误，请输入“q”，则会退出fdisk分区工具，之前的分区结果将不会被保留;>步骤 10: 执行命令，将新的分区表变更同步至操作系统: `partprobe	`>步骤 11: 执行以下命令，将新建分区文件系统设为系统所需格式;>>mkfs -t 文件系统格式 /dev/vdb1>>以设置文件系统为“ext4”为例：mkfs -t ext4 /dev/vdb1>>格式化需要等待一段时间，请观察系统运行状态，不要退出;>步骤 12: 执行以下命令，新建挂载点;>>以新建挂载点“/mnt/sdc”为例：mkdir  df/mnt/sdc>步骤 13: 执行以下命令，将新建分区挂载到步骤12中新建的挂载点下;>>以挂载新建分区至“/mnt/sdc”为例：mount  /dev/vdb1  /mnt/sdc####实验验证>执行以下命令，查看挂载结果:`df -TH`>>表示新建分区“/dev/xvdb1”已挂载至“/mnt/sdc”;