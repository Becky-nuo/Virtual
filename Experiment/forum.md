#论坛搭建##部署###虚拟私有云>创建VPC```区域：自定义;名称：定义;网段：默认;可用区：自定义;名称：自定义;子网网段：自定义;```###安全组>创建安全组```模板：通用Web服务器;名称：自定义;描述：自定义（可写可不写）;```>配置>>点击vps名称;>>入方向规则;>>添加规则;>>协议端口;>>全部放通；###弹性云服务器（ECS）>创建ecs```计费模式：按需计费;区域：自定义;可用区：自定义；CPU：X86计算；规格：通用计算型 | s3.small.1 | 1vCPUs | 1GB	（低配置省钱）；镜像：公共镜像  CentOS7.4 64bit(40GB)；系统盘：高IO  40GB；网络：默认；安全组：默认；弹性公网IP： 现在购买  全动态BGP   按流量计费  5mbit/s；登录凭证：密码；用户名：root；密码：自定义；云备份：不购买；```###登录弹性云服务器>用户：root>密码##安装Apache>Apache是世界使用排名第一的Web服务器软件;它可以运行在几乎所有广泛使用的计算机平台上，由于其跨平台和安全性被广泛使用，是最流行的Web服务器端软件之一;它快速、可靠并且可通过简单的API扩充，将Perl/Python等解释器编译到服务器中;###安装软件httpd>httpd是Apache超文本传输协议(HTTP)服务器的主程序,执行以下命令安装：`yum -y install httpd`###启动主程序httpd>启动主程序httpd，用以接受请求,执行以下命令：`service httpd start`###设置httpd开机自启动>httpd开机自动启动可以保证虚拟机重启之后，服务可以同时启动,执行以下命令设置开机自启：chkconfig httpd on###安装PHP编译器>安装PHP编译器，为后续的编写工作做准备,执行以下命令安装：`yum -y install php`###安装PHP-MySQL插件>安装PHP编译器与MySQL链接的插件，用户进行数据库连接,执行以下命令安装：`yum -y install php-mysql`>至此，Apache软件安装完成;##安装MariaDB数据库>MariaDB是一个数据库，主要用于后续存储论坛数据;###安装MariaDB>执行以下命令安装：`yum -y install mariadb-server MariaDB`###启动MariaDB>执行以下命令启动MariaDB：`systemctl start MariaDB`###设置MariaDB开机自启动>MariaDB开机自动启动可以保证虚拟机重启之后，服务可以同时启动,执行以下命令设置MariaDB开机自启：`systemctl enable MariaDB`###进入MySQL数据库>执行以下命令进入数据库：`mysql`###创建数据库的用户名和密码>创建访问数据库的用户名和密码，并进行授权,需要创建如下信息：```用户名：root密码：123456主机：localhost（本机）数据库名字：kunpeng（可自定义）```>执行以下命令创建：`GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost'IDENTIFIED BY '123456' WITH GRANT OPTION;CREATE DATABASE kunpeng;flush privileges;`>代码执行完成后，键盘操作ctrl+c退出数据库编辑;##Discuz!安装###下载Discuz源码包>下载 wget：`yum install -y wget`>执行以下命令下载：`wget https://sandbox-experiment-resource-north-4.obs.cn-north-4.myhuaweicloud.com/kunpeng/Discuz_SC_UTF8.zip`###解压Discuz源码包>执行以下命令解压：`unzip ./Discuz_SC_UTF8.zip`###Discuz源码移动>将Discuz!移动到httpd启动的目录，使用户可以通过http访问到Discuz!网站,执行以下命令移动文件:  `Discuz_SC_UTF8/upload/* /var/www/html/`###修改Discuz源码权限>修改源码读写权限，使网站能够被所有用户正常读写访问,执行以下命令授权:`chmod -R 777 /var/www/html/*`###重启httpd>重启httpd，使所有设置好的环境变量生效,执行以下命令重启httpd：`service httpd restart`###更改安全组>切换回浏览器，进入云服务器控制台（“服务列表”->“计算”->“弹性云服务器ECS”），点击左侧栏最下方“安全组”;>安全组为实验开始时“预制实验环境”所创建的安全组（名称是系统分配的华为云实验账号名），点击名称进入安全组设置页面，点击“入方向规则”->"添加规则";>点击“确定”设置完成;###浏览器访问Discuz>仿照1.1步骤复制弹性云服务器ECS的弹性公网IP（在已登录账号的浏览器页面，点击“服务列表”->“计算”->“弹性云服务器ECS”进入服务器列表，查看并复制服务器“IP地址”弹性公网IP）;在浏览器地址栏输入http://+云服务器的EIP地址，访问Discuz!论坛网站;##Discuz!安装体验###Discuz!安装>在浏览器成功访问的页面，点击同意协议;>点击“下一步”进入设置运行环境;###设置运行环境>选择“全新安装”;>点击“下一步”进入安装数据库;###安装数据库>输入我们在上面设置好的数据库的名称和密码，安装数据库;>然后为管理员设置密码，点击“下一步”完成安装;###登陆Discuz!论坛网站>点击页面右下角“您的论坛已安装完成，点此访问”进入论坛;>至此Discuz!论坛网站安装完成;