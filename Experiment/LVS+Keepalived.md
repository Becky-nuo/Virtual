#LVS+Keepalived##拓扑图：￼ ##配置###在web1、web2：```	yum install httpd -y		echo "web111111 testing " > /var/www/html/index.html #web1		echo "web222222 testing " > /var/www/html/index.html #web2	systemctl restart httpd	vim web.sh	!/bin/bash	VIP=192.168.1.254	ifconfig lo:0 $VIP netmask 255.255.255.255 up	route add -host $VIP dev lo:0		echo 1 > /proc/sys/net/ipv4/conf/lo/arp_ignore		echo 2 > /proc/sys/net/ipv4/conf/lo/arp_announce		echo 1 > /proc/sys/net/ipv4/conf/all/arp_ignore		echo 2 > /proc/sys/net/ipv4/conf/all/arp_announce ```###在LVS-1、LVS-2：```	yum install ipvsadm keepalived -y	vim lvs.sh	!/bin/bash	VIP=192.168.1.254	RIP1=192.168.1.3	RIP2=192.168.1.4	ipvsadm -C	ipvsadm -A -t $VIP:80 -s rr	ipvsadm -a -t $VIP:80 -r $RIP:80 -g	ipvsadm -a -t $VIP:80 -r $RIP:80 -g```###在LVS-1：```vim /etc/keepalived/keepalived.conf ￼注：	vrrp_instance VI_1：定义vrrp实例名为VI_1	state MASTER：定义本机为MASTER（主）	virtual router id 51：设定vrid，相同的vrid为同一个组，同组的vrid将决定多播的mac地址	priority 100：设定优先级，数字越大越优先	advert_int 1：设定心跳广播间隔（秒）	authentication：设定设备之间的认证	auth_type pass：认证方式为密码认证	auth_pass 1111：认证密码为1111	virtual ipaddress：设定VIP地址```##在LVS-2：```vim /etc/keepalived/keepalived.conf￼注：state BACKUP：备用模式priority 50：优先级比主LVS低```